(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,n){e.exports=n(233)},233:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"fetchUser",function(){return g}),n.d(a,"submitSurvey",function(){return x});n(109);var r=n(0),l=n.n(r),c=n(50),u=n.n(c),i=n(11),o=n(5),s=n(106),m=n(17),b=n(18),p=n(20),f=n(19),d=n(21),v=n(22),h=n(26),E=n(40),y=n.n(E),j=n(70),O=n(37),w=n.n(O),g=function(){return function(){var e=Object(j.a)(y.a.mark(function e(t){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/api/current_user");case 2:n=e.sent,t({type:"fetch_user",payload:n.data});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},x=function(e,t){return function(){var n=Object(j.a)(y.a.mark(function n(a){var r;return y.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.a.post("/api/surveys",e);case 2:r=n.sent,t.push("/surveys"),a({type:"fetch_user",payload:r.data});case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},k=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(b.a)(t,[{key:"renderContent",value:function(){switch(this.props.auth){case null:return;case!1:return l.a.createElement("li",null,l.a.createElement("a",{href:"/auth/google"},"Login"));default:return l.a.createElement("li",null,l.a.createElement("a",{href:"/api/logout"},"Logout"))}}},{key:"render",value:function(){return l.a.createElement("nav",null,l.a.createElement("div",{className:"nav-wrapper"},l.a.createElement(v.b,{to:this.props.auth?"/surveys":"/",className:"brand-logo"},"LOGO"),l.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},this.renderContent(),l.a.createElement("li",null,l.a.createElement("a",{href:"badges.html"},"Components")),l.a.createElement("li",null,l.a.createElement("a",{href:"collapsible.html"},"JavaScript")))))}}]),t}(l.a.Component);var C=Object(i.b)(function(e){return{auth:e.auth}})(k),S=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,"Collect feedback from your users")}}]),t}(l.a.Component),N=function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"fixed-action-btn"},l.a.createElement(v.b,{to:"/surveys/new",className:"btn-floating btn-large red"},l.a.createElement("i",{className:"material-icons"},"add"))))},F=n(234);var L=Object(i.b)(function(e){return{formValues:e.form.surveyForm.values}},a)(Object(h.e)(function(e){return l.a.createElement("div",null,l.a.createElement("h2",null,"Please confirm yout entries before submitting"),l.a.createElement("div",null,l.a.createElement("label",null,"Survey Title"),l.a.createElement("div",null,e.formValues.title),l.a.createElement("label",null,"Subject Line"),l.a.createElement("div",null,e.formValues.subject),l.a.createElement("label",null,"Email Body"),l.a.createElement("div",null,e.formValues.body),l.a.createElement("label",null,"Recipient List"),l.a.createElement("div",null,e.formValues.recipients)),l.a.createElement("button",{className:"yellow darken-3 btn-flat white-text",onClick:e.onCancel},"Back"),l.a.createElement("button",{onClick:function(){return e.submitSurvey(e.formValues,e.history)},className:"blue btn-flat right white-text"},"Send survey",l.a.createElement("i",{className:"material-icons right"},"email")))})),B=n(235),R=function(e){return console.log(e.meta),l.a.createElement("div",null,l.a.createElement("label",null,e.label),l.a.createElement("input",Object.assign({},e.input,{style:{marginBottom:"5px"}})),l.a.createElement("div",{className:"red-text",style:{marginBottom:"20px "}},e.meta.touched&&e.meta.error?e.meta.error:void 0))},V=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var _=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:this.props.handleSubmit(this.props.onSurveySubmit)},l.a.createElement("div",null,l.a.createElement(B.a,{label:"Survey Title",type:"text",name:"title",component:R}),l.a.createElement(B.a,{label:"Subject Line",type:"text",name:"subject",component:R}),l.a.createElement(B.a,{label:"Email Body",type:"text",name:"body",component:R}),l.a.createElement(B.a,{label:"Recipient List",type:"text",name:"recipients",component:R})),l.a.createElement(v.b,{to:"/surveys",className:"red btn-flat white-"},"Cancel"),l.a.createElement("button",{type:"submit",className:"teal btn-flat right white-text"},"Next",l.a.createElement("i",{className:"material-icons right"},"done"))))}}]),t}(l.a.Component);var J=Object(F.a)({validate:function(e){var t={};return e.title||(t.title="You must provide a title"),e.subject||(t.subject="You must provide a subject"),e.body||(t.body="You must provide a body"),e.recipients&&(t.recipients=function(e){var t=e.split(",").map(function(e){return e.trim()}).filter(function(e){return!V.test(e)});if(t.length)return"These emails are invalid: ".concat(t)}(e.recipients)),t},form:"surveyForm",destroyOnUnmount:!1})(_),T=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={showFormReview:!1},n}return Object(d.a)(t,e),Object(b.a)(t,[{key:"renderContent",value:function(){var e=this;return this.state.showFormReview?l.a.createElement(L,{onCancel:function(){return e.setState({showFormReview:!1})}}):l.a.createElement(J,{onSurveySubmit:function(){return e.setState({showFormReview:!0})}})}},{key:"render",value:function(){return l.a.createElement("div",null,this.renderContent())}}]),t}(l.a.Component),U=Object(F.a)({form:"surveyForm"})(T),Y=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchUser()}},{key:"render",value:function(){return l.a.createElement(v.a,null,l.a.createElement("div",{className:"container"},l.a.createElement(C,null),l.a.createElement(h.a,{exact:!0,path:"/surveys",component:N}),l.a.createElement(h.a,{path:"/surveys/new",component:U}),l.a.createElement(h.a,{exact:!0,path:"/",component:S})))}}]),t}(l.a.Component),z=Object(i.b)(null,a)(Y),A=n(236),Z=Object(o.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_user":return t.payload||!1;default:return e}},form:A.a});window.axios=w.a;var D=Object(o.d)(Z,{},Object(o.a)(s.a));u.a.render(l.a.createElement(i.a,{store:D},l.a.createElement(z,null)),document.getElementById("root"))}},[[108,1,2]]]);
//# sourceMappingURL=main.91cf61e6.chunk.js.map